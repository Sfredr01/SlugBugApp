<!doctype html>
<html>

    <head>
        <title>Slug Bug Application</title>
        <link href="../styles/messageStreamStyling.css" rel="stylesheet">
        <script src="../scripts/messageStreamScript.js"></script>

        <script src="https://www.gstatic.com/firebasejs/5.5.2/firebase-app.js"></script>

        <script src="https://www.gstatic.com/firebasejs/5.5.2/firebase-database.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyCUlfU1AT_LpFwOSX7A0V2Ca5pgVAn5V9Y",
            authDomain: "slugbugapp.firebaseapp.com",
            databaseURL: "https://slugbugapp.firebaseio.com",
            projectId: "slugbugapp",
            storageBucket: "slugbugapp.appspot.com",
            messagingSenderId: "745781045440"
          };
          firebase.initializeApp(config);
          var database = firebase.database();

          var livefeed = firebase.database().ref('livefeed');

          livefeed.on('child_added', () => { 
              getMessages(); 
            });

        </script>
        <meta name="viewport" content="user-scalable=no" />
    </head>

    <body id="body" onload="getMessages();">
        <div id="backButtonDiv">
          <button onclick="changePage('../index.html')">
            <img id="backButton" src="../images/backButton.png" alt="backButton">
          </button>
        </div>
        <div id="profilePreview">
            <div style=" float:right; margin-right: 2vw;">
                <button onclick="document.getElementById('profilePreview').style='display: none;'">
                    <img src="../images/transparentX.png" style="width: 6vw;">
                </button>
            </div>
            <div id="profileFlexContainer">
                <div>
                    <img id="profilePic" src="../images/defaultProfilePicture.png">
                </div>
                <div id="profileUser">
                    User N/A
                </div>
                <div id="profilePoints">
                    Points N/A
                </div>
            </div>
        </div>
        <div id="messageList">
            <div>
                <img id="loadingImage" src="../images/loadingImage.gif">
            </div>
        </div>
        <div class="flexContainer">
            <form class="bigText">
                <input class="bigSize" type="text" id="message" placeholder="Message...">
            </form>
            <div id="formButtons">
                <button id="submit" class="bigText button" onclick="submitButton()">SUBMIT</button>
            </div>
        </div>
    </body>

</html>